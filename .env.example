# =============================================================================
# VIBE CODER 3D - Environment Configuration
# =============================================================================
# Copy this file to `.env` and customize for your environment

# -----------------------------------------------------------------------------
# Platform & Device Settings
# -----------------------------------------------------------------------------

# Target platform - affects optimization strategy
# Options: desktop, mobile, web
PLATFORM=desktop

# Mobile optimization - applies aggressive optimizations for mobile devices
# Set to true for mobile/tablet builds
IS_MOBILE=false

# Enable WebGL compatibility mode (uses conservative features)
WEBGL_COMPAT_MODE=false

# -----------------------------------------------------------------------------
# 3D Model Optimization Settings
# -----------------------------------------------------------------------------

# Aggressive model optimization - reduces quality for performance
# Set to true for low-end devices or when performance is critical
AGGRESSIVE_MODEL_OPTIMIZATION=false

# Enable automatic mesh decimation before main pipeline
# Warning: May significantly reduce visual quality if ratio too low
AUTO_DECIMATE_MODELS=false

# Target triangle reduction ratio for auto-decimation (0.0-1.0)
# IMPORTANT: Quality recommendations by asset type:
#   Hero characters: 0.3-0.5 (30-50% - preserves details)
#   Environment props: 0.1-0.2 (10-20% - balanced)
#   Background objects: 0.05-0.1 (5-10% - aggressive)
#   Ultra-low poly: 0.02-0.05 (2-5% - mobile/web)
AUTO_DECIMATE_RATIO=0.15

# Error threshold for decimation (higher = more aggressive, lower quality)
# Recommended ranges:
#   0.001-0.01: High quality (slight reduction)
#   0.01-0.1: Balanced (visible reduction but acceptable)
#   0.1-1.0: Aggressive (may lose details)
AUTO_DECIMATE_ERROR=0.01

# Enable Blender integration for advanced decimation
# Requires Blender to be installed and accessible
# Blender provides better quality than meshopt at low ratios
# and handles UVs/normals/materials better
USE_BLENDER_DECIMATION=false

# Blender executable path (leave empty to auto-detect)
# Examples:
#   macOS: /Applications/Blender.app/Contents/MacOS/Blender
#   Linux: /usr/bin/blender
#   Windows: C:/Program Files/Blender Foundation/Blender 3.6/blender.exe
BLENDER_PATH=

# Blender quality preset (1-5)
# 1: Ultra compression (5% ratio, 256px textures, JPEG 75%)
# 2: High compression (10% ratio, 512px textures, JPEG 85%)
# 3: Balanced (15% ratio, 1024px textures, PNG)
# 4: Good quality (25% ratio, 2048px textures, PNG)
# 5: High quality (40% ratio, 4096px textures, original)
BLENDER_QUALITY_PRESET=3

# Skip optimization for models below this triangle count
OPTIMIZATION_MIN_TRIANGLES=1000

# Maximum triangle count warnings
# Models exceeding these will trigger warnings
MAX_TRIANGLES_HERO=50000
MAX_TRIANGLES_PROP=15000
MAX_TRIANGLES_BACKGROUND=5000

# -----------------------------------------------------------------------------
# Texture Optimization Settings
# -----------------------------------------------------------------------------

# Maximum texture resolution (width/height in pixels)
# Options: 512, 1024, 2048, 4096
MAX_TEXTURE_SIZE=2048

# Enable texture compression (KTX2/Basis Universal)
ENABLE_TEXTURE_COMPRESSION=true

# Texture compression quality (1-255, higher = better quality)
TEXTURE_COMPRESSION_QUALITY=128

# Force power-of-two texture dimensions
FORCE_POT_TEXTURES=true

# -----------------------------------------------------------------------------
# LOD (Level of Detail) Settings
# -----------------------------------------------------------------------------

# Enable automatic LOD generation
ENABLE_LOD_GENERATION=true

# High fidelity LOD ratio (0.0-1.0)
LOD_HIGH_RATIO=0.25

# Low fidelity LOD ratio (0.0-1.0)
LOD_LOW_RATIO=0.25

# LOD error threshold for high quality
LOD_HIGH_ERROR=0.01

# LOD error threshold for low quality
LOD_LOW_ERROR=0.1

# -----------------------------------------------------------------------------
# Compression Settings
# -----------------------------------------------------------------------------

# Mesh compression method
# Options: draco, meshopt, both, none
MESH_COMPRESSION=draco

# Draco compression speed (1-10, higher = faster but larger files)
DRACO_ENCODE_SPEED=5

# Draco decompression speed (1-10, higher = faster decode on client)
DRACO_DECODE_SPEED=5

# Enable gzip compression for final GLB files
ENABLE_GZIP=false

# -----------------------------------------------------------------------------
# Development & Debugging
# -----------------------------------------------------------------------------

# Enable verbose logging during optimization
VERBOSE_OPTIMIZATION=false

# Skip optimization cache (force re-optimize all models)
FORCE_REOPTIMIZE=false

# Enable optimization profiling/benchmarking
ENABLE_PROFILING=false

# Generate optimization reports
GENERATE_REPORTS=false

# Fail build on optimization errors
FAIL_ON_OPTIMIZATION_ERROR=false

# -----------------------------------------------------------------------------
# Asset Pipeline Settings
# -----------------------------------------------------------------------------

# Models directory path (relative to project root)
MODELS_DIR=public/assets/models

# Output directory for optimized models
OPTIMIZED_OUTPUT_DIR=public/assets/models

# Enable automatic model validation
VALIDATE_MODELS=true

# Check model complexity before optimization
CHECK_MODEL_COMPLEXITY=true

# Warn when model exceeds recommended triangle count
WARN_ON_COMPLEX_MODELS=true

# -----------------------------------------------------------------------------
# Performance Budgets
# -----------------------------------------------------------------------------

# Maximum total scene triangles (all visible meshes combined)
MAX_SCENE_TRIANGLES=500000

# Maximum memory budget for models (MB)
MAX_MODEL_MEMORY_MB=100

# Target frame budget (ms per frame)
TARGET_FRAME_TIME_MS=16.67

# -----------------------------------------------------------------------------
# Experimental Features
# -----------------------------------------------------------------------------

# Enable experimental mesh optimization features
ENABLE_EXPERIMENTAL_OPTIMIZATIONS=false

# Use alternative simplification algorithm
USE_ALTERNATIVE_SIMPLIFIER=false

# Enable mesh merging/batching
ENABLE_MESH_BATCHING=false
