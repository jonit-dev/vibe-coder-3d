# 3D Asset Import Flow

This document outlines the process for importing 3D models and animations into the project, covering steps from concept to integration into a scene.

## Overview

The typical flow involves creating or obtaining a 3D model, processing it and its animations using Mixamo, preparing the assets for the project using a script, defining metadata, creating a React component wrapper, and finally integrating the model into a scene.

## Step-by-Step Process

1.  **Model Concept & Creation:**

    - Start with a concept for your 3D model. This could come from various sources, such as AI model generators (e.g., mesh.ai) or concept art (e.g., generated by ChatGPT 4o).
    - Ensure the model is in a compatible format, typically FBX for use with Mixamo.

2.  **Prepare Base Model in Mixamo:**

    - Upload the base FBX model to Adobe Mixamo.
    - Select the "T-pose" option.
    - Download the model **WITH skin**. This provides the rigged base model necessary for the project.
    - Save this file in your project under `source_models/fbx/ModelNameHere/ModelNameHere_T_Pose.fbx` (replace `ModelNameHere` with the actual name of your model).

3.  **Download Animations from Mixamo:**

    - While still in Mixamo, select the desired animations for your model.
    - Download each animation **WITHOUT skin**. This provides just the animation data applicable to your rigged base model.
    - Place these animation FBX files under `source_models/fbx/ModelNameHere/animations`.

4.  **Prepare Assets for Project Use:**

    - Run the asset preparation script using `yarn prepare-models`.
    - This script (defined in `package.json` and likely using `scripts/basic-model-compression.js`) processes the raw FBX files, optimizes them (e.g., compression, converting to GLTF), and prepares them for efficient loading in the application.

5.  **Setup Model Metadata:**

    - Create a metadata entry for your model. Refer to `nightStalkerTextureMetadata.ts` (or similar asset metadata files) as an example.
    - This metadata file will typically define paths to the processed model and animation files, initial animation states, and other configuration details needed by the application's asset loading system.

6.  **Create React Wrapper Component:**

    - Create a dedicated React component to wrap and manage your 3D model. Refer to `@/game/models/NightStalkerModel.tsx` as an example.
    - This component will handle loading the model and its animations using hooks like `useAsset` and `useModelAnimations`.
    - It should encapsulate the Three.js logic for the specific model, making it reusable and easier to manage within different scenes.

7.  **Integrate into a Scene:**
    - Place your new model wrapper component into a Three.js scene component. Refer to `@/components/NightStalkerDemo.tsx` as an example.
    - Position and scale the model as needed within the scene's coordinate system.
    - Handle interactions, animations, and other scene-specific logic within or around the model component.

This process ensures that raw assets are properly prepared and integrated into the React/Three.js environment for use in the application.
